{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "38041042_8f312e0b",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-04-23T13:26:15Z",
      "side": 1,
      "message": "I don\u0027t know how this mechnanism works but I believe we should keep only Unavailable, not the DeadlineExceeded. Let\u0027s say adapter sends a PacketIn to the core. If the core is busy and can not respond in 2 seconds, the adapter would retry and there is a chance the same packet sent device to the core.\nIf the service is Unavailable retry mechanism makes sense to me.",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 144,
        "endChar": 24
      },
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd4a65ce_39970bb5",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1000537
      },
      "writtenOn": "2023-04-25T05:57:48Z",
      "side": 1,
      "message": "yes, If DeadlineExceeded , the caller will not be sure if the transaction really succeded. yes there could be multiple packet ins sent , but the protocol should be able to handle it.",
      "parentUuid": "38041042_8f312e0b",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 144,
        "endChar": 24
      },
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af0a0aa1_bb8c5102",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-04-25T12:38:17Z",
      "side": 1,
      "message": "Makes sense. \nThe only dangerous operation from the adapter to the core is the PortCreate API call. If we can make sure that subsequent PortCreate API calls do not result in any problems then it\u0027s fine. Is it possible for you to modify the unit test in rw-core to test it?",
      "parentUuid": "fd4a65ce_39970bb5",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 144,
        "endChar": 24
      },
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6edf21f_9138b96e",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1000963
      },
      "writtenOn": "2023-04-27T12:08:43Z",
      "side": 1,
      "message": "I have now tested the PortCreated api request(in the actual setup) by firing it 5 times from olt adapter instead of once (for the same port), in the function createPortInCore(). No issues were observed in core and setup is in normal operation.",
      "parentUuid": "af0a0aa1_bb8c5102",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 144,
        "endChar": 24
      },
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2aae9dc_2f1bd202",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 144,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-05-04T14:51:43Z",
      "side": 1,
      "message": "Great, thanks Nikesh.",
      "parentUuid": "b6edf21f_9138b96e",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 144,
        "endChar": 24
      },
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d509d475_9db02d3e",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 148,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-04-23T13:26:15Z",
      "side": 1,
      "message": "Could you please set the log level to debug and remove the unnecessary comment?",
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "52194160_1c11f2fe",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 148,
      "author": {
        "id": 1000963
      },
      "writtenOn": "2023-04-25T06:06:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d509d475_9db02d3e",
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e5dffef9_b9a841af",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 148,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-04-25T12:38:17Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "52194160_1c11f2fe",
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f31f29a0_2f5cb1ef",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 429,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-04-23T13:26:15Z",
      "side": 1,
      "message": "There is a retry mechanism here! Should we get rid of this?",
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad650227_f6337e9e",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 429,
      "author": {
        "id": 1000963
      },
      "writtenOn": "2023-04-25T06:06:49Z",
      "side": 1,
      "message": "this function is invoked as a.registerWithCore(ctx, coreService, -1), the -1 will result in an infinite retry, hence if we get rid of this the infinite retry will reduce to 10 retries in case of failure(due to deadline exceeded or core unavailable). Also this retry is independent of the error code, olt-adaptor will keep on trying this till it gets a positive response.",
      "parentUuid": "f31f29a0_2f5cb1ef",
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a99cd35_4e76bde2",
        "filename": "cmd/openolt-adapter/main.go",
        "patchSetId": 14
      },
      "lineNbr": 429,
      "author": {
        "id": 1000404
      },
      "writtenOn": "2023-04-25T12:38:17Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ad650227_f6337e9e",
      "revId": "f49156f29ad8141d591ba50448a205a077b8ca16",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388"
    }
  ]
}