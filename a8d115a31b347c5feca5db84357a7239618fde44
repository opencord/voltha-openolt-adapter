{
  "comments": [
    {
      "key": {
        "uuid": "8ea37d9e_28c1995a",
        "filename": "adaptercore/device_handler.go",
        "patchSetId": 1
      },
      "lineNbr": 605,
      "author": {
        "id": 1000548
      },
      "writtenOn": "2019-07-29T19:41:47Z",
      "side": 1,
      "message": "Do we need to take lock here ? \n\nIs there a chance that omci-indication will be received before ONT is activated by OLT as part of discovery procedure ? This helps when adapter restarts after activated ONU ?",
      "revId": "a8d115a31b347c5feca5db84357a7239618fde44",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d488b352_6314db92",
        "filename": "adaptercore/device_handler.go",
        "patchSetId": 1
      },
      "lineNbr": 623,
      "author": {
        "id": 1000548
      },
      "writtenOn": "2019-07-29T19:41:47Z",
      "side": 1,
      "message": "Do we need to take lock again here ? Or we can still hold same the lock taken above and release once updated database ?",
      "revId": "a8d115a31b347c5feca5db84357a7239618fde44",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d2a2ae6_64ded8e7",
        "filename": "adaptercore/device_handler.go",
        "patchSetId": 1
      },
      "lineNbr": 750,
      "author": {
        "id": 1000548
      },
      "writtenOn": "2019-07-29T19:41:47Z",
      "side": 1,
      "message": "This defer function will be called even after successfully added ONU which is not right(Duplicate discovery  will be processed ) . discOnus cache  shall  be deleted only when ONU is deactivated at OLT OR deleted explicitly when failed to activate ONU",
      "revId": "a8d115a31b347c5feca5db84357a7239618fde44",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c2c15dac_894d7d93",
        "filename": "adaptercore/device_handler.go",
        "patchSetId": 1
      },
      "lineNbr": 770,
      "author": {
        "id": 1000548
      },
      "writtenOn": "2019-07-29T19:41:47Z",
      "side": 1,
      "message": "why do we need to take lock here since dh.discOnus[sn] is already updated hence at any point of time one discovery will be processed  fully ?",
      "revId": "a8d115a31b347c5feca5db84357a7239618fde44",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "44f74b90_74df61dd",
        "filename": "adaptercore/device_handler.go",
        "patchSetId": 1
      },
      "lineNbr": 797,
      "author": {
        "id": 1000548
      },
      "writtenOn": "2019-07-29T19:41:47Z",
      "side": 1,
      "message": "why do we need to take lock here since dh.discOnus[sn] is already updated hence  at this  point of time only one discovery will be processed? Any other specific scenario ?",
      "revId": "a8d115a31b347c5feca5db84357a7239618fde44",
      "serverId": "2a2bfe1b-c5c2-48ed-9ac8-16438ab24388",
      "unresolved": false
    }
  ]
}